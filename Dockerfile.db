# Use the official MySQL image
FROM mysql:latest

# Set environment variables
ENV MYSQL_DATABASE lamp_docker
ENV MYSQL_USER lamp_docker
ENV MYSQL_PASSWORD PixelDoctor123!
ENV MYSQL_DATA_DIR /var/lib/mysql
ENV MYSQL_INITDB_SKIP_TZINFO 1

# Copy SQL initialization script
COPY ./db /docker-entrypoint-initdb.d
COPY ./init.sql /docker-entrypoint-initdb.d/init.sql

# Use the entrypoint script provided by the official MySQL image
ENTRYPOINT ["docker-entrypoint.sh"]

# Start MySQL server
CMD ["mysqld", "--console"]
